<span class="lang">
<span class="lang-ja">
<p>配点： <var>100</var> 点</p>

<div class="part">
<section>
<h3></h3>
<p>JOI くんと IOI ちゃんは双子の兄妹である．JOI くんは最近お菓子作りに凝っていて，今日も JOI くんはケーキを焼いて食べようとしたのだが，焼きあがったところで匂いをかぎつけた IOI ちゃんが来たので <var>2</var> 人でケーキを分けることになった．</p>
<p>ケーキは円形である．ある点から放射状に切り目を入れ，ケーキを <var>N</var> 個のピースに切り分け，ピースに <var>1</var> から <var>N</var> まで反時計回りに番号をつけた．つまり，<var>1 \leqq i \leqq N</var> に対し，<var>i</var> 番目のピースは <var>i - 1</var> 番目と <var>i + 1</var> 番目のピースと隣接している (ただし <var>0</var> 番目は <var>N</var> 番目，<var>N + 1</var> 番目は <var>1</var> 番目とみなす)．<var>i</var> 番目のピースの大きさは <var>A_i</var> だったが，切り方がとても下手だったので <var>A_i</var> はすべて異なる値になった．</p>
<p><img alt="図 1: ケーキの例 (<var>N = 5</var>，<var>A_1 = 2</var>，<var>A_2 = 8</var>，<var>A_3 = 1</var>，<var>A_4 = 10</var>，<var>A_5 = 9</var>)" src="https://img.atcoder.jp/joi2015ho/b-1.png" /></p>
<p>この <var>N</var> 個を JOI くんと IOI ちゃんで分けることにした．分け方は次のようにすることにした：</p>
<ol>
<li>まず JOI くんが <var>N</var> 個のうちの好きな <var>1</var> つを選んで取る．</li>
<li>その後，IOI ちゃんからはじめて IOI ちゃんと JOI くんが交互に残りのピースを <var>1</var> つずつ取っていく．ただし，両隣のピースのうち少なくとも一方が既に取られているようなピースしか取ることができず，取れるピースが複数あるときは，IOI ちゃんはそのうち最も大きいものを選んで取り，JOI くんはそのうちで好きなものを選んで取ることができる．</li>
</ol>
<p>JOI くんは，自分が最終的に取るピースの大きさの合計を最大化したい．</p>
</section>
</div>

<div class="part">
<section>
<h3>課題</h3>
<p>ケーキのピースの数 <var>N</var> と，<var>N</var> 個のピースの大きさの情報が与えられたとき，JOI くんが取れるピースの大きさの合計の最大値を求めるプログラムを作成せよ．</p>
<hr />
</section>
</div>

<div class="io-style">
<div class="part">
<section>
<h3>入力</h3>
<p>標準入力から以下の入力を読み込め．</p>
<ul>
<li><var>1</var> 行目には整数 <var>N</var> が書かれており，ケーキが <var>N</var> 個のピースに切り分けられていることを表す．</li>
<li>続く <var>N</var> 行のうちの <var>i</var> 行目 (<var>1 \leqq i \leqq N</var>) には整数 <var>A_i</var> が書かれており，<var>i</var> 番目のピースの大きさが <var>A_i</var> であることを表す．</li>
</ul>
</section>
</div>
</div>

<div class="io-style">
<div class="part">
<section>
<h3>出力</h3>
<p>標準出力に，JOI くんが取れるピースの大きさの合計の最大値を表す整数を <var>1</var> 行で出力せよ．</p>
<hr />
</section>
</div>
</div>

<div class="part">
<section>
<h3>制限</h3>
<p>すべての入力データは以下の条件を満たす．</p>
<ul>
<li><var>1 \leqq N \leqq 2\,000</var>．</li>
<li><var>1 \leqq A_i \leqq 1\,000\,000\,000</var>．</li>
<li><var>A_i</var> はすべて異なる．</li>
</ul>
</section>
</div>

<div class="part">
<section>
<h3>小課題</h3>
<h4>小課題 1 [15 点]</h4>
<ul>
<li><var>N \leqq 20</var> を満たす．</li>
</ul>
<h4>小課題 2 [45 点]</h4>
<ul>
<li><var>N \leqq 300</var> を満たす．</li>
</ul>
<h4>小課題 3 [40 点]</h4>
<p>追加の制限はない．</p>
<hr />
</section>
</div>

<div class="part">
<section>
<h3>入力例 1</h3>
<pre>5
2
8
1
10
9
</pre>
</section>
</div>

<div class="part">
<section>
<h3>出力例 1</h3>
<pre>18
</pre>
<p>JOI くんは，次のようにピースを取るのが最適である．</p>
<ol>
<li>JOI くんは <var>2</var> 番目のピースを取る．このピースの大きさは <var>8</var> である．</li>
<li>IOI ちゃんは <var>1</var> 番目のピースを取る．このピースの大きさは <var>2</var> である．</li>
<li>JOI くんは <var>5</var> 番目のピースを取る．このピースの大きさは <var>9</var> である．</li>
<li>IOI ちゃんは <var>4</var> 番目のピースを取る．このピースの大きさは <var>10</var> である．</li>
<li>JOI くんは <var>3</var> 番目のピースを取る．このピースの大きさは <var>1</var> である．</li>
</ol>
<p>最終的に，JOI くんが取ったピースの大きさの合計は，<var>8 + 9 + 1 = 18</var> となる．</p>
<hr />
</section>
</div>

<div class="part">
<section>
<h3>入力例 2</h3>
<pre>8
1
10
4
5
6
2
9
3
</pre>
</section>
</div>

<div class="part">
<section>
<h3>出力例 2</h3>
<pre>26
</pre>
<hr />
</section>
</div>

<div class="part">
<section>
<h3>入力例 3</h3>
<pre>15
182243672
10074562
977552215
122668426
685444213
3784162
463324752
560071245
134465220
21447865
654556327
183481051
20041805
405079805
564327789
</pre>
</section>
</div>

<div class="part">
<section>
<h3>出力例 3</h3>
<pre>3600242976
</pre></section>
</div>
</span>
</span>
